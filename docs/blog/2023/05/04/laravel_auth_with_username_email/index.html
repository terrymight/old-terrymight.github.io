<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Impletment User Auth Username or Email in Laravel</title>
<meta name="author" content="Tejiri Mayone" />




<meta name="keywords" content="Technology in nigeria, webapp, go, laravel, dipbits, dipbitstech, FRAMEWORK">


<meta name="description" content="Site designed and maintained by dipbits Technology Ltd">

<meta name="generator" content="Hugo 0.92.2" />


<link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>


<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.11.2/css/all.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link href="/css/animate.css" rel="stylesheet">



  <link href="/css/style.green.css" rel="stylesheet" id="theme-stylesheet">



<link href="/css/custom.css?1683299202" rel="stylesheet">



  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->



<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />


<link href="/css/owl.carousel.css" rel="stylesheet">
<link href="/css/owl.theme.css" rel="stylesheet">


<link rel="alternate" href="https://dipbitstech.com/index.xml" type="application/rss+xml" title="dipbits Technology Ltd">








<meta property="og:locale" content="en_us">
<meta property="og:site_name" content="dipbits Technology Ltd">
<meta property="og:title" content="Impletment User Auth Username or Email in Laravel">
<meta property="og:type" content="article">
<meta property="og:url" content="https://dipbitstech.com/blog/2023/05/04/laravel_auth_with_username_email/" />
<meta property="og:description" content="Site designed and maintained by dipbits Technology Ltd">
<meta property="og:image" content="https://dipbitstech.com/img/post/laravel.jpeg">
<meta property="og:image:type" content="image/jpeg">



  <meta property="og:image:width" content="286">
  <meta property="og:image:height" content="176">


<meta property="og:updated_time" content="2023-05-04T14:33:46&#43;0200">

  
  
  <meta property="article:section" content="FRAMEWORK">
  <meta property="article:tag" content="FRAMEWORK">
  
  
  <meta property="article:published_time" content="2023-05-04T14:33:46&#43;0200">
  <meta property="article:modified_time" content="2023-05-04T14:33:46&#43;0200">



<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@GoHugoIO">
<meta name="twitter:title" content="Impletment User Auth Username or Email in Laravel">

<meta name="twitter:image" content="https://dipbitstech.com/img/post/laravel.jpeg">

<meta name="twitter:description" content="Site designed and maintained by dipbits Technology Ltd">


    
  </head>

  <body>

    <div id="all">

        <header class="navbar-affixed-top" data-spy="affix" data-offset-top="62">
    <div class="navbar navbar-default yamm " role="navigation" id="navbar">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/">
                    
                      <h4>Dipbits Technology LTD</h4>
                    
                    <span class="sr-only">Impletment User Auth Username or Email in Laravel - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fas fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  

                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/">Home</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                    
                    
                    <li class="dropdown use-yamm yamm-fw ">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
                        
                        <ul class="dropdown-menu">
                            <li>
                            <div class="yamm-content">
                            <div class="row">
                                
                                <div class="col-sm-3">
                                
                                    
                                    
                                
                                    
                                    
                                    <h5>About</h5>
                                    
                                    
                                
                                    
                                    
                                
                                    
                                    
                                
                                </div>
                                <div class="col-sm-3">
                                
                                    
                                    
                                    <h5>Portfolio</code></h5>
                                    
                                    
                                
                                    
                                    
                                
                                    
                                    
                                
                                    
                                    
                                
                                </div>
                                
                                <div class="col-sm-3">
                                
                                    
                                    
                                
                                    
                                    
                                
                                    
                                    
                                    <h5>Dipbits Products</code></h5>
                                    
                                    
                                
                                    
                                    
                                
                                </div>
                                <div class="col-sm-3">
                                
                                    
                                    
                                
                                    
                                    
                                
                                    
                                    
                                
                                    
                                    
                                    <h5>Dipbits Tech API`s</code></h5>
                                    
                                    
                                
                                </div>
                                
                            </div>
                            </div>
                            </li>
                        </ul>
                        
                    </li>
                  
                  
                  
                  

                  

                  
                    
                  

                  

                  
                  <li class="dropdown active">
                    <a href="/blog/">Blog</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/faq/">FAQ</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/contact/">Contact</a>
                  </li>
                  
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</header>




        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Impletment User Auth Username or Email in Laravel</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        
                          <p class="text-muted text-uppercase mb-small text-right">
                            
			      By <a href="/authors/tejiri-mayone">Tejiri Mayone</a>
                            
                            
                            
                              
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                              May 4, 2023
                            
                          </p>
                        

                        <div id="post-content">
                          <h2 id="introduction">Introduction</h2>
<p>Laravel is a popular PHP framework that is widely used for web application development. One of the most important features of any web application is authentication. In this blog, we will look at how to perform authentication with email or username in Laravel 10.</p>
<h4 id="step-1-install-laravel-10">Step 1: Install Laravel 10</h4>
<p>To get started, you need to have Laravel 10 installed on your system. You can install it using Composer by running the following command in your terminal:
Click <a href="https://laravel.com/docs/10.x/installation">Laravel site for other options</a></p>
<pre tabindex="0"><code>composer create-project laravel/laravel your-project-name  --prefer-dist &quot;10.*&quot;
</code></pre><h4 id="step-2-create-a-new-laravel-project">Step 2: Create a new Laravel project</h4>
<p>Once you have installed Laravel 10, create a new Laravel project using the following command:</p>
<pre tabindex="0"><code>php artisan new your-project-name
</code></pre><h4 id="step-3-setup-the-database">Step 3: Setup the database</h4>
<p>Next, you need to setup the database connection in the .env file. Open the .env file in the root directory of your Laravel project and update the following lines with your database details:</p>
<pre tabindex="0"><code>DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=your_database_name
DB_USERNAME=your_database_username
DB_PASSWORD=your_database_password
</code></pre><h4 id="step-4-generate-the-authentication-scaffolding">Step 4: Generate the Authentication Scaffolding</h4>
<p>Laravel provides an easy way to generate authentication scaffolding using the <code>make:auth</code> command. To generate the authentication scaffolding, run the following command:</p>
<pre tabindex="0"><code>php artisan make:auth
</code></pre><p>This command will generate the necessary views, routes, controllers, and migrations required for authentication.</p>
<h4 id="step-5-add-username-column">Step 5: Add Username Column</h4>
<p>Now add new column username to your users table, so you can simply update your migration as like bellow.</p>
<h5 id="migration">migration</h5>
<p><code>database/migrations/</code></p>
<pre tabindex="0"><code>&lt;?php

  

use Illuminate\Database\Migrations\Migration;

use Illuminate\Database\Schema\Blueprint;

use Illuminate\Support\Facades\Schema;

  

class CreateUsersTable extends Migration

{

    /**

     * Run the migrations.

     *

     * @return void

     */

    public function up()

    {

        Schema::create('users', function (Blueprint $table) {

            $table-&gt;bigIncrements('id');

            $table-&gt;string('name');

            $table-&gt;string('email');

            $table-&gt;string('username')-&gt;nullable();

            $table-&gt;timestamp('email_verified_at')-&gt;nullable();

            $table-&gt;boolean('is_admin')-&gt;nullable();

            $table-&gt;string('password');

            $table-&gt;rememberToken();

            $table-&gt;timestamps();

        });

    }

  

    /**

     * Reverse the migrations.

     *

     * @return void

     */

    public function down()

    {

        Schema::dropIfExists('users');

    }

}
</code></pre><h4 id="step-6-run-migrations">Step 6: Run Migrations</h4>
<p>Generated the authentication scaffolding, run the following command to create the necessary tables in the database:</p>
<pre tabindex="0"><code>php artisan migrate
</code></pre><h4 id="step-6-modify-the-authenticatedsessioncontrollerphp">Step 6: Modify the AuthenticatedSessionController.php</h4>
<p>Now modify the <code>store()</code> method located in AuthenticatedSessionController.php file in
<code>app\Http\Controller\Auth\AuthenticatedSessionController.php</code> like the code below:</p>
<pre tabindex="0"><code>    public function store(LoginRequest $request)
    {
        $field = filter_var($request-&gt;input('email'), FILTER_VALIDATE_EMAIL) ? 'email' : 'username';

        $request-&gt;merge([$field =&gt; $request-&gt;input('email')]);

        $request-&gt;authenticate();

        $request-&gt;session()-&gt;regenerate();

        if(Auth::user()-&gt;user_role == 'IsValidAdmin'){
            return redirect()-&gt;intended(RouteServiceProvider::ISADMIN);
        }elseif(Auth::user()-&gt;user_role == 'IsValidUser'){
            return redirect()-&gt;intended(RouteServiceProvider::HOME);
        }
        return redirect()-&gt;intended(RouteServiceProvider::ISSUPERADMIN);
        
    }
</code></pre><p>you can read more about the <code>FILTER_VALIDATE_EMAIL</code> at <a href="https://www.php.net/manual/en/filter.filters.validate.php">PHP Documentation</a></p>
<h4 id="step-7-lastly-make-few-modification-to-authenticate-method">Step 7: Lastly make few modification to authenticate() method:</h4>
<p>Now modify the <code>authenticate()</code> method located in AuthenticatedSessionController.php file in
<code>app\Http\Requests\Auth\LoginRequest.php</code> like the code below:</p>
<pre tabindex="0"><code>public function authenticate()
    {
        $this-&gt;ensureIsNotRateLimited();

        if ($this-&gt;has(['username'])) {
           if (! Auth::attempt($this-&gt;only('username', 'password'), $this-&gt;boolean('remember'))) {
            RateLimiter::hit($this-&gt;throttleKey());

            throw ValidationException::withMessages([
                'email' =&gt; trans('auth.failed'),
            ]);
        }
        }else{
            if (! Auth::attempt($this-&gt;only('email', 'password'), $this-&gt;boolean('remember'))) {
                RateLimiter::hit($this-&gt;throttleKey());
    
                throw ValidationException::withMessages([
                    'email' =&gt; trans('auth.failed'),
                ]);
            }
        }

        RateLimiter::clear($this-&gt;throttleKey());
    }
</code></pre><p>In the above code we are looking are the incoming request if it contains either username or email fields in our request.</p>
<p>You can add some dummy records on your users table.
Now you can run your project.
You will get layout of login page like as bellow:</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="/img/post/laravel-10.png" alt="space-1.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><em>share my created login screen.</em></td>
</tr>
</tbody>
</table>
<p>I hope it can help you&hellip;</p>

                        </div>
                        
                        
                        <div id="comments">
                            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-terrymight-github-io-dipbitstech" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                        </div>
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://dipbitstech.com/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/categories/framework">FRAMEWORK (2)</a>
            </li>
            
            <li>
                <a href="/categories/html">HTML (1)</a>
            </li>
            
            <li>
                <a href="/categories/javascript">JAVASCRIPT (2)</a>
            </li>
            
            <li>
                <a href="/categories/php">PHP (1)</a>
            </li>
            
            <li>
                <a href="/categories/terminal">TERMINAL (2)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li >
                <a href="/tags/css"><i class="fas fa-tags"></i> css</a>
            </li>
            
            <li >
                <a href="/tags/framework"><i class="fas fa-tags"></i> framework</a>
            </li>
            
            <li >
                <a href="/tags/html"><i class="fas fa-tags"></i> html</a>
            </li>
            
            <li >
                <a href="/tags/javascript"><i class="fas fa-tags"></i> javascript</a>
            </li>
            
            <li >
                <a href="/tags/terminal"><i class="fas fa-tags"></i> terminal</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
    <div class="container">

        
        <div class="col-md-4 col-sm-6">
            <h4>About us</h4>

            <p>Dipbits Technology LTD is registered in Nigeria, with over one decades in technology, we adverse, build, migrate your IT systems. </p>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

        <div class="col-md-4 col-sm-6">

            
            <h4>Recent posts</h4>

            <div class="blog-entries">
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://dipbitstech.com/blog/2023/05/04/laravel_auth_with_username_email/">
                          
                            <img src="/img/post/laravel.jpeg" class="img-responsive" alt="Impletment User Auth Username or Email in Laravel">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://dipbitstech.com/blog/2023/05/04/laravel_auth_with_username_email/">Impletment User Auth Username or Email in Laravel</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://dipbitstech.com/blog/2023/04/16/the-power-of-the-javascript-reduce-function/">
                          
                            <img src="/img/post/javascript_reduce.png" class="img-responsive" alt="The power of the Javascript reduce() function.">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://dipbitstech.com/blog/2023/04/16/the-power-of-the-javascript-reduce-function/">The power of the Javascript reduce() function.</a></h5>
                    </div>
                </div>
                
                <div class="item same-height-row clearfix">
                    <div class="image same-height-always">
                        <a href="https://dipbitstech.com/blog/2023/04/13/implement-a-loop-that-iterates-through-the-sorted-array-and-sum-any-duplicate-numbers-then-also-how-to-remove-duplicates-numbers/">
                          
                            <img src="/img/post/arrays-in-javaScript.png" class="img-responsive" alt="Implement a loop that iterates through sorted array and sum any duplicate numbers then Also How to remove duplicates numbers.">
                          
                        </a>
                    </div>
                    <div class="name same-height-always">
                        <h5><a href="https://dipbitstech.com/blog/2023/04/13/implement-a-loop-that-iterates-through-the-sorted-array-and-sum-any-duplicate-numbers-then-also-how-to-remove-duplicates-numbers/">Implement a loop that iterates through sorted array and sum any duplicate numbers then Also How to remove duplicates numbers.</a></h5>
                    </div>
                </div>
                
            </div>

            <hr class="hidden-md hidden-lg">
            

        </div>
        

        
        <div class="col-md-4 col-sm-6">

          <h4>Contact</h4>

            <p class="text-uppercase"><strong>Dipbits Technology Ltd.</strong>
        <br>suit 35, God`s own plaza
        <br>Area 11
        <br>Garki, Abuja
        <strong>Nigieria</strong>
      </p>
      

            <a href="/dipbitstech/contact" class="btn btn-small btn-template-main">Go to contact page</a>

            <hr class="hidden-md hidden-lg hidden-sm">

        </div>
        
        

    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
            <p class="pull-left">Copyright (c) 2021 - 2022, Dipbits Technology Ltd; all rights reserved.</p>
            
            <p class="pull-right">
              

              
            </p>
        </div>
    </div>
</div>





    </div>
    

    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SWSEK891K4"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-SWSEK891K4', { 'anonymize_ip': false });
}
</script>

<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>


<script src="/js/front.js"></script>


<script src="/js/owl.carousel.min.js"></script>



  </body>
</html>
